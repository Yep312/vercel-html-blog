function initialize_fc_lite(){UserConfig={private_api_url:UserConfig?.private_api_url||"",page_turning_number:UserConfig?.page_turning_number||20,error_img:UserConfig?.error_img||"https://fastly.jsdelivr.net/gh/willow-god/Friend-Circle-Lite@latest/static/favicon.ico"};const e=document.getElementById("friend-circle-lite-root");if(!e)return;e.innerHTML="";var t=document.createElement("i");t.className="fas fa-angle-double-down";const n=document.createElement("div");n.id="random-article",e.appendChild(n);const a=document.createElement("div");a.className="articles-container",a.id="articles-container",e.appendChild(a);const i=document.createElement("button");i.id="load-more-btn",i.appendChild(t),e.appendChild(i);const r=document.createElement("div");r.id="stats-container",e.appendChild(r);let o=0,d=[];function l(){const e="friend-circle-lite-cache",n="friend-circle-lite-cache-time",a=localStorage.getItem(n),r=(new Date).getTime();if(a&&r-a<6e5){const t=JSON.parse(localStorage.getItem(e));if(t)return void c(t)}fetch(`${UserConfig.private_api_url}all.json`).then((e=>e.json())).then((t=>{localStorage.setItem(e,JSON.stringify(t)),localStorage.setItem(n,r.toString()),c(t)})).finally((()=>{i.appendChild(t)}))}function c(t){d=t.article_data;const n=t.statistical_data;r.innerHTML=`\n            <div>Powered by: <a href="https://github.com/willow-god/Friend-Circle-Lite" target="_blank">FriendCircleLite</a><br></div>\n            <div>Designed By: <a href="https://yep.vin/" target="_blank">Yep</a><br></div>\n            <div>è®¢é˜…:${n.friends_num}   æ´»è·ƒ:${n.active_num}   æ€»æ–‡ç« æ•°:${n.article_num}<br></div>\n            <div>æ›´æ–°æ—¶é—´:${n.last_updated_time}</div>\n        `,s(),d.slice(o,o+UserConfig.page_turning_number).forEach((t=>{const n=document.createElement("div");n.className="card";const i=document.createElement("a");i.className="card-title",i.innerText=t.title,n.appendChild(i),i.onclick=()=>window.open(t.link,"_blank");const r=document.createElement("div");r.className="card-author";const o=document.createElement("img");o.className="no-lightbox",o.src=t.avatar||UserConfig.error_img,o.onerror=()=>o.src=UserConfig.error_img,r.appendChild(o),r.appendChild(document.createTextNode(t.author)),n.appendChild(r),r.onclick=()=>{!function(t,n,a){if(!document.getElementById("fclite-modal")){const t=document.createElement("div");t.id="modal",t.className="modal",t.innerHTML='\n            <div class="modal-content">\n                <img id="modal-author-avatar" src="" alt="">\n                <a id="modal-author-name-link"></a>\n                <div id="modal-articles-container"></div>\n                <img id="modal-bg" src="" alt="">\n            </div>\n            ',e.appendChild(t)}const i=document.getElementById("modal"),r=document.getElementById("modal-articles-container"),o=document.getElementById("modal-author-avatar"),l=document.getElementById("modal-author-name-link"),c=document.getElementById("modal-bg");r.innerHTML="",o.src=n||UserConfig.error_img,o.onerror=()=>o.src=UserConfig.error_img,c.src=n||UserConfig.error_img,c.onerror=()=>c.src=UserConfig.error_img,l.innerText=t,l.href=new URL(a).origin;const s=d.filter((e=>e.author===t));s.slice(0,4).forEach((e=>{const t=document.createElement("div");t.className="modal-article";const n=document.createElement("a");n.className="modal-article-title",n.innerText=e.title,n.href=e.link,n.target="_blank",t.appendChild(n);const a=document.createElement("div");a.className="modal-article-date",a.innerText="ğŸ“…"+e.created.substring(0,10),t.appendChild(a),r.appendChild(t)})),i.style.display="block",setTimeout((()=>{i.classList.add("modal-open")}),10)}(t.author,t.avatar,t.link)};const l=document.createElement("div");l.className="card-date",l.innerText="ğŸ—“ï¸"+t.created.substring(0,10),n.appendChild(l);const c=document.createElement("img");c.className="card-bg no-lightbox",c.src=t.avatar||UserConfig.error_img,c.onerror=()=>c.src=UserConfig.error_img,n.appendChild(c),a.appendChild(n)})),o+=UserConfig.page_turning_number,o>=d.length&&(i.style.display="none")}function s(){const e=d[Math.floor(Math.random()*d.length)];n.innerHTML=`\n<div class="random-container">\n<div class="random-container-title">ğŸ£ éšæœºé’“é±¼ <a href="#" id="refresh-random-article"><i class="fa-solid fa-arrow-rotate-right"></i></a></div>\n<a target="_blank" href="${e.link}" class="random-title">${e.title}</a></div>\n<div class="random-author">ä½œè€…: ${e.author}</div>\n</div>\n<div class="random-button-container">\n</div>\n`,document.getElementById("refresh-random-article").addEventListener("click",(function(e){e.preventDefault(),s()}))}l(),i.addEventListener("click",l),window.onclick=function(t){const n=document.getElementById("modal");t.target===n&&function(){const t=document.getElementById("modal");t.classList.remove("modal-open"),t.addEventListener("transitionend",(()=>{t.style.display="none",e.removeChild(t)}),{once:!0})}()}}function whenDOMReady(){initialize_fc_lite()}whenDOMReady(),document.addEventListener("pjax:complete",initialize_fc_lite);